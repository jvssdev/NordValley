# Project Directory Structure:
.
├── Wallpapers/
│   ├── 250a80a4-492a-46de-b54b-13e47f93ab66.png
│   ├── Firewatch.png
│   ├── Nord_3840x2160.png
│   ├── Picture 16.png
│   ├── a6116535-4a72-453e-83c9-ea97b8597d8c.png
│   ├── lit-up-sky-colorized.png
│   ├── nighttimesky-colorized.png
│   ├── nord_valley.png
│   ├── paul-pastourmatzis-KT3WlrL_bsg-unsplash.jpg
│   ├── puffy-stars-colorized.png
│   ├── tokyonight.jpg
│   └── tokyonight.png
├── dotfiles/
│   ├── btop/
│   │   ├── themes/
│   │   │   └── .keep
│   │   └── btop.conf
│   ├── fastfetch/
│   │   └── config.jsonc
│   ├── fuzzel/
│   │   └── fuzzel.ini
│   ├── ghostty/
│   │   └── config
│   ├── gtklock/
│   │   ├── config.ini
│   │   └── style.css
│   ├── helix/
│   │   ├── themes/
│   │   │   └── nord_transparent.toml
│   │   ├── config.toml
│   │   └── languages.toml
│   ├── hypridle/
│   │   └── hypridle.conf
│   ├── mako/
│   │   └── config
│   ├── mango/
│   │   ├── 
autostart.sh
│   │   └── config.conf
│   ├── mpd/
│   │   ├── empty_database
│   │   ├── empty_log
│   │   ├── empty_pid
│   │   ├── empty_state
│   │   ├── empty_sticker.sql
│   │   ├── mpd.conf
│   │   ├── mpd.db
│   │   └── mpd.state
│   ├── pipewire/
│   │   └── pipewire.conf.d/
│   │       ├── user-session.conf
│   │       └── user-session.conf


│   ├── river/
│   │   └── ini
│   ├── rmpc/
│   │   └── config.ron
│   ├── sddm-theme/
│   │   ├── assets/
│   │   │   ├── change_user.svg
│   │   │   └── nord_valley.png
│   │   ├── components/
│   │   │   ├── artwork/
│   │   │   │   ├── logout_primary.svgz
│   │   │   │   ├── restart_primary.svgz
│   │   │   │   └── shutdown_primary.svgz
│   │   │   ├── ActionButton.qml
│   │   │   ├── Battery.qml
│   │   │   ├── Clock.qml
│   │   │   ├── Input.qml
│   │   │   ├── SessionManagementScreen.qml
│   │   │   ├── UserDelegate.qml
│   │   │   ├── UserList.qml
│   │   │   └── VirtualKeyboard.qml
│   │   ├── faces/
│   │   │   └── .face.icon
│   │   ├── DropdownMenuStyle.qml
│   │   ├── KeyboardButton.qml
│   │   ├── Login.qml
│   │   ├── Main.qml
│   │   ├── SessionButton.qml
│   │   ├── metadata.desktop
│   │   └── theme.conf
│   ├── systemd/
│   │   └── user/
│   │       └── mpd.service
│   ├── waybar/
│   │   ├── config.jsonc
│   │   └── style.css
│   ├── wleave/
│   │   ├── icons/
│   │   │   ├── hibernate.png
│   │   │   ├── lock.png
│   │   │   ├── logout.png
│   │   │   ├── reboot.png
│   │   │   ├── shutdown.png
│   │   │   └── suspend.png
│   │   ├── layout
│   │   └── style.css
│   ├── wpaperd/
│   │   └── config.toml
│   ├── xdg-desktop-portal/
│   │   └── river-portals.conf
│   ├── yazi/
│   │   ├── flavors/
│   │   │   └── nord.yazi/
│   │   │       ├── readonly_LICENSE
│   │   │       ├── readonly_LICENSE-tmtheme
│   │   │       ├── readonly_README.md
│   │   │       ├── readonly_flavor.toml
│   │   │       ├── readonly_preview.png
│   │   │       └── readonly_tmtheme.xml
│   │   ├── plugins/
│   │   │   └── starship.yazi/
│   │   │       ├── readonly_LICENSE
│   │   │       ├── readonly_README.md
│   │   │       └── readonly_main.lua
│   │   ├── init.lua
│   │   ├── package.toml
│   │   ├── theme.toml
│   │   └── yazi.toml
│   ├── zathura/
│   │   └── zathurarc
│   ├── zed/
│   │   ├── themes/
│   │   │   └── .keep
│   │   ├── keymap.json
│   │   └── private_settings.json
│   ├── zen/
│   │   ├── default/
│   │   │   ├── chrome/
│   │   │   │   └── userChrome.css
│   │   │   └── user.js
│   │   └── profiles.ini
│   ├── zsh/
│   │   ├── plugins/
│   │   │   ├── fast-syntax-highlighting/
│   │   │   │   ├── dot_git/
│   │   │   │   │   ├── hooks/
│   │   │   │   │   │   ├── executable_applypatch-msg.sample
│   │   │   │   │   │   ├── executable_commit-msg.sample
│   │   │   │   │   │   ├── executable_fsmonitor-watchman.sample
│   │   │   │   │   │   ├── executable_post-update.sample
│   │   │   │   │   │   ├── executable_pre-applypatch.sample
│   │   │   │   │   │   ├── executable_pre-commit.sample
│   │   │   │   │   │   ├── executable_pre-merge-commit.sample
│   │   │   │   │   │   ├── executable_pre-push.sample
│   │   │   │   │   │   ├── executable_pre-rebase.sample
│   │   │   │   │   │   ├── executable_pre-receive.sample
│   │   │   │   │   │   ├── executable_prepare-commit-msg.sample
│   │   │   │   │   │   ├── executable_push-to-checkout.sample
│   │   │   │   │   │   ├── executable_sendemail-validate.sample
│   │   │   │   │   │   └── executable_update.sample
│   │   │   │   │   ├── info/
│   │   │   │   │   │   └── exclude
│   │   │   │   │   ├── logs/
│   │   │   │   │   │   ├── refs/
│   │   │   │   │   │   │   ├── heads/
│   │   │   │   │   │   │   │   └── master
│   │   │   │   │   │   │   └── remotes/
│   │   │   │   │   │   │       └── origin/
│   │   │   │   │   │   │           └── HEAD
│   │   │   │   │   │   └── HEAD
│   │   │   │   │   ├── objects/
│   │   │   │   │   │   ├── info/
│   │   │   │   │   │   │   └── .keep
│   │   │   │   │   │   └── pack/
│   │   │   │   │   │       ├── readonly_pack-fe9ecdf41c1e00c7c30e0314d696f5708f866110.idx
│   │   │   │   │   │       ├── readonly_pack-fe9ecdf41c1e00c7c30e0314d696f5708f866110.pack
│   │   │   │   │   │       └── readonly_pack-fe9ecdf41c1e00c7c30e0314d696f5708f866110.rev
│   │   │   │   │   ├── refs/
│   │   │   │   │   │   ├── heads/
│   │   │   │   │   │   │   └── master
│   │   │   │   │   │   ├── remotes/
│   │   │   │   │   │   │   └── origin/
│   │   │   │   │   │   │       └── HEAD
│   │   │   │   │   │   └── tags/
│   │   │   │   │   │       └── .keep
│   │   │   │   │   ├── HEAD
│   │   │   │   │   ├── config
│   │   │   │   │   ├── description
│   │   │   │   │   ├── index
│   │   │   │   │   ├── packed-refs
│   │   │   │   │   └── shallow
│   │   │   │   ├── dot_github/
│   │   │   │   │   └── workflows/
│   │   │   │   │       ├── linting.yml
│   │   │   │   │       └── zunit.yaml
│   │   │   │   ├── images/
│   │   │   │   │   ├── 203654.gif
│   │   │   │   │   ├── array-assign.png
│   │   │   │   │   ├── assign.png
│   │   │   │   │   ├── brackets.gif
│   │   │   │   │   ├── cmdsubst.png
│   │   │   │   │   ├── cplx_cond.png
│   │   │   │   │   ├── eval_cmp.png
│   │   │   │   │   ├── execfd.png
│   │   │   │   │   ├── execfd_cmp.png
│   │   │   │   │   ├── for-loop-cmp.png
│   │   │   │   │   ├── for-loop.png
│   │   │   │   │   ├── function.png
│   │   │   │   │   ├── git_chroma.png
│   │   │   │   │   ├── global-alias.png
│   │   │   │   │   ├── heredoc.png
│   │   │   │   │   ├── herestring.png
│   │   │   │   │   ├── highlight-less.png
│   │   │   │   │   ├── highlight-much.png
│   │   │   │   │   ├── ideal-string.png
│   │   │   │   │   ├── in_string.png
│   │   │   │   │   ├── math.gif
│   │   │   │   │   ├── parameter.png
│   │   │   │   │   ├── theme.png
│   │   │   │   │   ├── typeset.png
│   │   │   │   │   └── zcalc.png
│   │   │   │   ├── share/
│   │   │   │   │   └── free_theme.zsh
│   │   │   │   ├── test/
│   │   │   │   │   ├── executable_parse.zsh
│   │   │   │   │   └── to-parse.zsh
│   │   │   │   ├── tests/
│   │   │   │   │   ├── _output/
│   │   │   │   │   │   └── empty_dot_gitkeep
│   │   │   │   │   ├── _support/
│   │   │   │   │   │   ├── bootstrap
│   │   │   │   │   │   └── empty_dot_gitkeep
│   │   │   │   │   ├── example.zunit
│   │   │   │   │   └── main.zunit
│   │   │   │   ├── themes/
│   │   │   │   │   ├── base16.ini
│   │   │   │   │   ├── clean.ini
│   │   │   │   │   ├── default.ini
│   │   │   │   │   ├── forest.ini
│   │   │   │   │   ├── free.ini
│   │   │   │   │   ├── q-jmnemonic.ini
│   │   │   │   │   ├── safari.ini
│   │   │   │   │   ├── spa.ini
│   │   │   │   │   ├── sv-orple.ini
│   │   │   │   │   ├── sv-plant.ini
│   │   │   │   │   └── zdharma.ini
│   │   │   │   ├── →chroma/
│   │   │   │   │   ├── -alias.ch
│   │   │   │   │   ├── -autoload.ch
│   │   │   │   │   ├── -autorandr.ch
│   │   │   │   │   ├── -awk.ch
│   │   │   │   │   ├── -docker.ch
│   │   │   │   │   ├── -example.ch
│   │   │   │   │   ├── -fast-theme.ch
│   │   │   │   │   ├── -fpath_peq.ch
│   │   │   │   │   ├── -git.ch
│   │   │   │   │   ├── -grep.ch
│   │   │   │   │   ├── -hub.ch
│   │   │   │   │   ├── -ionice.ch
│   │   │   │   │   ├── -lab.ch
│   │   │   │   │   ├── -make.ch
│   │   │   │   │   ├── -nice.ch
│   │   │   │   │   ├── -nmcli.ch
│   │   │   │   │   ├── -node.ch
│   │   │   │   │   ├── -ogit.ch
│   │   │   │   │   ├── -perl.ch
│   │   │   │   │   ├── -podman.ch
│   │   │   │   │   ├── -precommand.ch
│   │   │   │   │   ├── -printf.ch
│   │   │   │   │   ├── -ruby.ch
│   │   │   │   │   ├── -scp.ch
│   │   │   │   │   ├── -sh.ch
│   │   │   │   │   ├── -source.ch
│   │   │   │   │   ├── -ssh.ch
│   │   │   │   │   ├── -subcommand.ch
│   │   │   │   │   ├── -subversion.ch
│   │   │   │   │   ├── -vim.ch
│   │   │   │   │   ├── -whatis.ch
│   │   │   │   │   ├── -which.ch
│   │   │   │   │   ├── -zinit.ch
│   │   │   │   │   └── main-chroma.ch
│   │   │   │   ├── CHANGELOG.md
│   │   │   │   ├── CHROMA_GUIDE.adoc
│   │   │   │   ├── LICENSE
│   │   │   │   ├── README.md
│   │   │   │   ├── THEME_GUIDE.md
│   │   │   │   ├── _fast-theme
│   │   │   │   ├── dot_fast-make-targets
│   │   │   │   ├── dot_fast-read-ini-file
│   │   │   │   ├── dot_fast-run-command
│   │   │   │   ├── dot_fast-run-git-command
│   │   │   │   ├── dot_fast-zts-read-all
│   │   │   │   ├── dot_gitignore
│   │   │   │   ├── dot_zunit.yml
│   │   │   │   ├── fast-highlight
│   │   │   │   ├── fast-string-highlight
│   │   │   │   ├── fast-syntax-highlighting.plugin.zsh
│   │   │   │   └── fast-theme
│   │   │   ├── starship/
│   │   │   │   ├── docs/
│   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── ar-SA/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── bn-BD/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── ckb-IR/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── config/
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── de-DE/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── dot_vitepress/
│   │   │   │   │   │   ├── theme/
│   │   │   │   │   │   │   ├── index.css
│   │   │   │   │   │   │   └── index.js
│   │   │   │   │   │   └── config.mts
│   │   │   │   │   ├── es-ES/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── faq/
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── fr-FR/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── guide/
│   │   │   │   │   │   └── symlink_README.md
│   │   │   │   │   ├── id-ID/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── installing/
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── it-IT/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── ja-JP/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── ko-KR/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── nl-NL/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── no-NO/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── pl-PL/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── presets/
│   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   ├── pt-BR/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── pt-PT/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── public/
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── img/
│   │   │   │   │   │   │   │   ├── bracketed-segments.png
│   │   │   │   │   │   │   │   ├── catppuccin-powerline.png
│   │   │   │   │   │   │   │   ├── gruvbox-rainbow.png
│   │   │   │   │   │   │   │   ├── jetpack.png
│   │   │   │   │   │   │   │   ├── nerd-font-symbols.png
│   │   │   │   │   │   │   │   ├── no-empty-icons.png
│   │   │   │   │   │   │   │   ├── no-runtime-versions.png
│   │   │   │   │   │   │   │   ├── pastel-powerline.png
│   │   │   │   │   │   │   │   ├── plain-text-symbols.png
│   │   │   │   │   │   │   │   ├── pure-preset.png
│   │   │   │   │   │   │   │   └── tokyo-night.png
│   │   │   │   │   │   │   └── toml/
│   │   │   │   │   │   │       ├── bracketed-segments.toml
│   │   │   │   │   │   │       ├── catppuccin-powerline.toml
│   │   │   │   │   │   │       ├── gruvbox-rainbow.toml
│   │   │   │   │   │   │       ├── jetpack.toml
│   │   │   │   │   │   │       ├── nerd-font-symbols.toml
│   │   │   │   │   │   │       ├── no-empty-icons.toml
│   │   │   │   │   │   │       ├── no-nerd-font.toml
│   │   │   │   │   │   │       ├── no-runtime-versions.toml
│   │   │   │   │   │   │       ├── pastel-powerline.toml
│   │   │   │   │   │   │       ├── plain-text-symbols.toml
│   │   │   │   │   │   │       ├── pure-preset.toml
│   │   │   │   │   │   │       └── tokyo-night.toml
│   │   │   │   │   │   ├── _redirects
│   │   │   │   │   │   ├── demo.mp4
│   │   │   │   │   │   ├── demo.webm
│   │   │   │   │   │   ├── logo-uwu.png
│   │   │   │   │   │   ├── nerd-font.woff2
│   │   │   │   │   │   ├── robots.txt
│   │   │   │   │   │   ├── symlink_config-schema.json
│   │   │   │   │   │   ├── symlink_icon.png
│   │   │   │   │   │   ├── symlink_install.sh
│   │   │   │   │   │   ├── symlink_logo.png
│   │   │   │   │   │   └── symlink_logo.svg
│   │   │   │   │   ├── ru-RU/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── tr-TR/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── uk-UA/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── vi-VN/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── zh-CN/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── zh-TW/
│   │   │   │   │   │   ├── advanced-config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── config/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── faq/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── guide/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── installing/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── migrating-to-0.45.0/
│   │   │   │   │   │   │   └── README.md
│   │   │   │   │   │   ├── presets/
│   │   │   │   │   │   │   ├── README.md
│   │   │   │   │   │   │   ├── bracketed-segments.md
│   │   │   │   │   │   │   ├── catppuccin-powerline.md
│   │   │   │   │   │   │   ├── gruvbox-rainbow.md
│   │   │   │   │   │   │   ├── jetpack.md
│   │   │   │   │   │   │   ├── nerd-font.md
│   │   │   │   │   │   │   ├── no-empty-icons.md
│   │   │   │   │   │   │   ├── no-nerd-font.md
│   │   │   │   │   │   │   ├── no-runtimes.md
│   │   │   │   │   │   │   ├── pastel-powerline.md
│   │   │   │   │   │   │   ├── plain-text.md
│   │   │   │   │   │   │   ├── pure-preset.md
│   │   │   │   │   │   │   └── tokyo-night.md
│   │   │   │   │   │   └── README.md
│   │   │   │   │   ├── README.md
│   │   │   │   │   ├── package-lock.json
│   │   │   │   │   └── package.json
│   │   │   │   ├── dot_git/
│   │   │   │   │   ├── hooks/
│   │   │   │   │   │   ├── executable_applypatch-msg.sample
│   │   │   │   │   │   ├── executable_commit-msg.sample
│   │   │   │   │   │   ├── executable_fsmonitor-watchman.sample
│   │   │   │   │   │   ├── executable_post-update.sample
│   │   │   │   │   │   ├── executable_pre-applypatch.sample
│   │   │   │   │   │   ├── executable_pre-commit.sample
│   │   │   │   │   │   ├── executable_pre-merge-commit.sample
│   │   │   │   │   │   ├── executable_pre-push.sample
│   │   │   │   │   │   ├── executable_pre-rebase.sample
│   │   │   │   │   │   ├── executable_pre-receive.sample
│   │   │   │   │   │   ├── executable_prepare-commit-msg.sample
│   │   │   │   │   │   ├── executable_push-to-checkout.sample
│   │   │   │   │   │   ├── executable_sendemail-validate.sample
│   │   │   │   │   │   └── executable_update.sample
│   │   │   │   │   ├── info/
│   │   │   │   │   │   └── exclude
│   │   │   │   │   ├── logs/
│   │   │   │   │   │   ├── refs/
│   │   │   │   │   │   │   ├── heads/
│   │   │   │   │   │   │   │   └── master
│   │   │   │   │   │   │   └── remotes/
│   │   │   │   │   │   │       └── origin/
│   │   │   │   │   │   │           └── HEAD
│   │   │   │   │   │   └── HEAD
│   │   │   │   │   ├── objects/
│   │   │   │   │   │   ├── info/
│   │   │   │   │   │   │   └── .keep
│   │   │   │   │   │   └── pack/
│   │   │   │   │   │       ├── readonly_pack-083c020e72cd635f976b353fec25f69254f1fd7e.idx
│   │   │   │   │   │       ├── readonly_pack-083c020e72cd635f976b353fec25f69254f1fd7e.pack
│   │   │   │   │   │       └── readonly_pack-083c020e72cd635f976b353fec25f69254f1fd7e.rev
│   │   │   │   │   ├── refs/
│   │   │   │   │   │   ├── heads/
│   │   │   │   │   │   │   └── master
│   │   │   │   │   │   ├── remotes/
│   │   │   │   │   │   │   └── origin/
│   │   │   │   │   │   │       └── HEAD
│   │   │   │   │   │   └── tags/
│   │   │   │   │   │       └── .keep
│   │   │   │   │   ├── HEAD
│   │   │   │   │   ├── config
│   │   │   │   │   ├── description
│   │   │   │   │   ├── index
│   │   │   │   │   ├── packed-refs
│   │   │   │   │   └── shallow
│   │   │   │   ├── dot_github/
│   │   │   │   │   ├── ISSUE_TEMPLATE/
│   │   │   │   │   │   ├── Bug_report.md
│   │   │   │   │   │   ├── Feature_request.md
│   │   │   │   │   │   └── config.yml
│   │   │   │   │   ├── workflows/
│   │   │   │   │   │   ├── crowdin-pretranslate.yml
│   │   │   │   │   │   ├── format-workflow.yml
│   │   │   │   │   │   ├── publish-docs.yml
│   │   │   │   │   │   ├── release.yml
│   │   │   │   │   │   ├── security-audit.yml
│   │   │   │   │   │   ├── spell-check.yml
│   │   │   │   │   │   └── workflow.yml
│   │   │   │   │   ├── FUNDING.yml
│   │   │   │   │   ├── PULL_REQUEST_TEMPLATE.md
│   │   │   │   │   ├── config-schema.json
│   │   │   │   │   └── renovate.json5
│   │   │   │   ├── install/
│   │   │   │   │   ├── macos_packages/
│   │   │   │   │   │   ├── pkg_resources/
│   │   │   │   │   │   │   ├── English.lproj/
│   │   │   │   │   │   │   │   ├── conclusion.html
│   │   │   │   │   │   │   │   ├── license.html
│   │   │   │   │   │   │   │   └── welcome.html
│   │   │   │   │   │   │   └── icon.png
│   │   │   │   │   │   ├── aarch64.plist
│   │   │   │   │   │   ├── build_and_notarize.sh
│   │   │   │   │   │   ├── build_component_package.sh
│   │   │   │   │   │   ├── build_distribution_package.sh
│   │   │   │   │   │   ├── common.sh
│   │   │   │   │   │   ├── readme.md
│   │   │   │   │   │   └── x86_64.plist
│   │   │   │   │   ├── windows/
│   │   │   │   │   │   ├── choco/
│   │   │   │   │   │   │   ├── chocolateyInstall.install.ps1
│   │   │   │   │   │   │   ├── chocolateyInstall.portable.ps1
│   │   │   │   │   │   │   ├── starship.nuspec
│   │   │   │   │   │   │   └── update.ps1
│   │   │   │   │   │   ├── pkg_resources/
│   │   │   │   │   │   │   ├── Banner.bmp
│   │   │   │   │   │   │   ├── Dialog.bmp
│   │   │   │   │   │   │   └── LICENSE.rtf
│   │   │   │   │   │   └── main.wxs
│   │   │   │   │   └── executable_install.sh
│   │   │   │   ├── media/
│   │   │   │   │   ├── demo.gif
│   │   │   │   │   ├── flag-br.png
│   │   │   │   │   ├── flag-cn.png
│   │   │   │   │   ├── flag-de.png
│   │   │   │   │   ├── flag-es.png
│   │   │   │   │   ├── flag-fr.png
│   │   │   │   │   ├── flag-id.png
│   │   │   │   │   ├── flag-it.png
│   │   │   │   │   ├── flag-jp.png
│   │   │   │   │   ├── flag-ru.png
│   │   │   │   │   ├── flag-tw.png
│   │   │   │   │   ├── flag-ua.png
│   │   │   │   │   ├── flag-us.png
│   │   │   │   │   ├── flag-vn.png
│   │   │   │   │   ├── icon.ico
│   │   │   │   │   ├── icon.png
│   │   │   │   │   ├── icon.svg
│   │   │   │   │   ├── logo.ai
│   │   │   │   │   ├── logo.png
│   │   │   │   │   └── logo.svg
│   │   │   │   ├── src/
│   │   │   │   │   ├── configs/
│   │   │   │   │   │   ├── aws.rs
│   │   │   │   │   │   ├── azure.rs
│   │   │   │   │   │   ├── battery.rs
│   │   │   │   │   │   ├── buf.rs
│   │   │   │   │   │   ├── bun.rs
│   │   │   │   │   │   ├── c.rs
│   │   │   │   │   │   ├── cc.rs
│   │   │   │   │   │   ├── character.rs
│   │   │   │   │   │   ├── cmake.rs
│   │   │   │   │   │   ├── cmd_duration.rs
│   │   │   │   │   │   ├── cobol.rs
│   │   │   │   │   │   ├── conda.rs
│   │   │   │   │   │   ├── container.rs
│   │   │   │   │   │   ├── cpp.rs
│   │   │   │   │   │   ├── crystal.rs
│   │   │   │   │   │   ├── custom.rs
│   │   │   │   │   │   ├── daml.rs
│   │   │   │   │   │   ├── dart.rs
│   │   │   │   │   │   ├── deno.rs
│   │   │   │   │   │   ├── directory.rs
│   │   │   │   │   │   ├── docker_context.rs
│   │   │   │   │   │   ├── dotnet.rs
│   │   │   │   │   │   ├── elixir.rs
│   │   │   │   │   │   ├── elm.rs
│   │   │   │   │   │   ├── env_var.rs
│   │   │   │   │   │   ├── erlang.rs
│   │   │   │   │   │   ├── executable_direnv.rs
│   │   │   │   │   │   ├── executable_mise.rs
│   │   │   │   │   │   ├── executable_nix_shell.rs
│   │   │   │   │   │   ├── fennel.rs
│   │   │   │   │   │   ├── fill.rs
│   │   │   │   │   │   ├── fossil_branch.rs
│   │   │   │   │   │   ├── fossil_metrics.rs
│   │   │   │   │   │   ├── gcloud.rs
│   │   │   │   │   │   ├── git_branch.rs
│   │   │   │   │   │   ├── git_commit.rs
│   │   │   │   │   │   ├── git_metrics.rs
│   │   │   │   │   │   ├── git_state.rs
│   │   │   │   │   │   ├── git_status.rs
│   │   │   │   │   │   ├── gleam.rs
│   │   │   │   │   │   ├── go.rs
│   │   │   │   │   │   ├── gradle.rs
│   │   │   │   │   │   ├── guix_shell.rs
│   │   │   │   │   │   ├── haskell.rs
│   │   │   │   │   │   ├── haxe.rs
│   │   │   │   │   │   ├── helm.rs
│   │   │   │   │   │   ├── hg_branch.rs
│   │   │   │   │   │   ├── hg_state.rs
│   │   │   │   │   │   ├── hostname.rs
│   │   │   │   │   │   ├── java.rs
│   │   │   │   │   │   ├── jobs.rs
│   │   │   │   │   │   ├── julia.rs
│   │   │   │   │   │   ├── kotlin.rs
│   │   │   │   │   │   ├── kubernetes.rs
│   │   │   │   │   │   ├── line_break.rs
│   │   │   │   │   │   ├── localip.rs
│   │   │   │   │   │   ├── lua.rs
│   │   │   │   │   │   ├── memory_usage.rs
│   │   │   │   │   │   ├── meson.rs
│   │   │   │   │   │   ├── mod.rs
│   │   │   │   │   │   ├── mojo.rs
│   │   │   │   │   │   ├── nats.rs
│   │   │   │   │   │   ├── netns.rs
│   │   │   │   │   │   ├── nim.rs
│   │   │   │   │   │   ├── nodejs.rs
│   │   │   │   │   │   ├── ocaml.rs
│   │   │   │   │   │   ├── odin.rs
│   │   │   │   │   │   ├── opa.rs
│   │   │   │   │   │   ├── openstack.rs
│   │   │   │   │   │   ├── os.rs
│   │   │   │   │   │   ├── package.rs
│   │   │   │   │   │   ├── perl.rs
│   │   │   │   │   │   ├── php.rs
│   │   │   │   │   │   ├── pijul_channel.rs
│   │   │   │   │   │   ├── pixi.rs
│   │   │   │   │   │   ├── pulumi.rs
│   │   │   │   │   │   ├── purescript.rs
│   │   │   │   │   │   ├── python.rs
│   │   │   │   │   │   ├── quarto.rs
│   │   │   │   │   │   ├── raku.rs
│   │   │   │   │   │   ├── red.rs
│   │   │   │   │   │   ├── rlang.rs
│   │   │   │   │   │   ├── ruby.rs
│   │   │   │   │   │   ├── rust.rs
│   │   │   │   │   │   ├── scala.rs
│   │   │   │   │   │   ├── shell.rs
│   │   │   │   │   │   ├── shlvl.rs
│   │   │   │   │   │   ├── singularity.rs
│   │   │   │   │   │   ├── solidity.rs
│   │   │   │   │   │   ├── spack.rs
│   │   │   │   │   │   ├── starship_root.rs
│   │   │   │   │   │   ├── status.rs
│   │   │   │   │   │   ├── sudo.rs
│   │   │   │   │   │   ├── swift.rs
│   │   │   │   │   │   ├── terraform.rs
│   │   │   │   │   │   ├── time.rs
│   │   │   │   │   │   ├── typst.rs
│   │   │   │   │   │   ├── username.rs
│   │   │   │   │   │   ├── v.rs
│   │   │   │   │   │   ├── vagrant.rs
│   │   │   │   │   │   ├── vcsh.rs
│   │   │   │   │   │   ├── xmake.rs
│   │   │   │   │   │   └── zig.rs
│   │   │   │   │   ├── formatter/
│   │   │   │   │   │   ├── mod.rs
│   │   │   │   │   │   ├── model.rs
│   │   │   │   │   │   ├── parser.rs
│   │   │   │   │   │   ├── spec.pest
│   │   │   │   │   │   ├── string_formatter.rs
│   │   │   │   │   │   └── version.rs
│   │   │   │   │   ├── init/
│   │   │   │   │   │   ├── executable_starship.ps1
│   │   │   │   │   │   ├── mod.rs
│   │   │   │   │   │   ├── starship.bash
│   │   │   │   │   │   ├── starship.elv
│   │   │   │   │   │   ├── starship.fish
│   │   │   │   │   │   ├── starship.ion
│   │   │   │   │   │   ├── starship.lua
│   │   │   │   │   │   ├── starship.nu
│   │   │   │   │   │   ├── starship.tcsh
│   │   │   │   │   │   ├── starship.xsh
│   │   │   │   │   │   └── starship.zsh
│   │   │   │   │   ├── modules/
│   │   │   │   │   │   ├── utils/
│   │   │   │   │   │   │   ├── directory.rs
│   │   │   │   │   │   │   ├── directory_nix.rs
│   │   │   │   │   │   │   ├── directory_win.rs
│   │   │   │   │   │   │   ├── mod.rs
│   │   │   │   │   │   │   ├── path.rs
│   │   │   │   │   │   │   └── truncate.rs
│   │   │   │   │   │   ├── aws.rs
│   │   │   │   │   │   ├── azure.rs
│   │   │   │   │   │   ├── battery.rs
│   │   │   │   │   │   ├── buf.rs
│   │   │   │   │   │   ├── bun.rs
│   │   │   │   │   │   ├── c.rs
│   │   │   │   │   │   ├── cc.rs
│   │   │   │   │   │   ├── character.rs
│   │   │   │   │   │   ├── cmake.rs
│   │   │   │   │   │   ├── cmd_duration.rs
│   │   │   │   │   │   ├── cobol.rs
│   │   │   │   │   │   ├── conda.rs
│   │   │   │   │   │   ├── container.rs
│   │   │   │   │   │   ├── cpp.rs
│   │   │   │   │   │   ├── crystal.rs
│   │   │   │   │   │   ├── custom.rs
│   │   │   │   │   │   ├── daml.rs
│   │   │   │   │   │   ├── dart.rs
│   │   │   │   │   │   ├── deno.rs
│   │   │   │   │   │   ├── directory.rs
│   │   │   │   │   │   ├── direnv.rs
│   │   │   │   │   │   ├── docker_context.rs
│   │   │   │   │   │   ├── dotnet.rs
│   │   │   │   │   │   ├── elixir.rs
│   │   │   │   │   │   ├── elm.rs
│   │   │   │   │   │   ├── env_var.rs
│   │   │   │   │   │   ├── erlang.rs
│   │   │   │   │   │   ├── fennel.rs
│   │   │   │   │   │   ├── fill.rs
│   │   │   │   │   │   ├── fossil_branch.rs
│   │   │   │   │   │   ├── fossil_metrics.rs
│   │   │   │   │   │   ├── gcloud.rs
│   │   │   │   │   │   ├── git_branch.rs
│   │   │   │   │   │   ├── git_commit.rs
│   │   │   │   │   │   ├── git_metrics.rs
│   │   │   │   │   │   ├── git_state.rs
│   │   │   │   │   │   ├── git_status.rs
│   │   │   │   │   │   ├── gleam.rs
│   │   │   │   │   │   ├── golang.rs
│   │   │   │   │   │   ├── gradle.rs
│   │   │   │   │   │   ├── guix_shell.rs
│   │   │   │   │   │   ├── haskell.rs
│   │   │   │   │   │   ├── haxe.rs
│   │   │   │   │   │   ├── helm.rs
│   │   │   │   │   │   ├── hg_branch.rs
│   │   │   │   │   │   ├── hg_state.rs
│   │   │   │   │   │   ├── hostname.rs
│   │   │   │   │   │   ├── java.rs
│   │   │   │   │   │   ├── jobs.rs
│   │   │   │   │   │   ├── julia.rs
│   │   │   │   │   │   ├── kotlin.rs
│   │   │   │   │   │   ├── kubernetes.rs
│   │   │   │   │   │   ├── line_break.rs
│   │   │   │   │   │   ├── localip.rs
│   │   │   │   │   │   ├── lua.rs
│   │   │   │   │   │   ├── memory_usage.rs
│   │   │   │   │   │   ├── meson.rs
│   │   │   │   │   │   ├── mise.rs
│   │   │   │   │   │   ├── mod.rs
│   │   │   │   │   │   ├── mojo.rs
│   │   │   │   │   │   ├── nats.rs
│   │   │   │   │   │   ├── netns.rs
│   │   │   │   │   │   ├── nim.rs
│   │   │   │   │   │   ├── nix_shell.rs
│   │   │   │   │   │   ├── nodejs.rs
│   │   │   │   │   │   ├── ocaml.rs
│   │   │   │   │   │   ├── odin.rs
│   │   │   │   │   │   ├── opa.rs
│   │   │   │   │   │   ├── openstack.rs
│   │   │   │   │   │   ├── os.rs
│   │   │   │   │   │   ├── package.rs
│   │   │   │   │   │   ├── perl.rs
│   │   │   │   │   │   ├── php.rs
│   │   │   │   │   │   ├── pijul_channel.rs
│   │   │   │   │   │   ├── pixi.rs
│   │   │   │   │   │   ├── pulumi.rs
│   │   │   │   │   │   ├── purescript.rs
│   │   │   │   │   │   ├── python.rs
│   │   │   │   │   │   ├── quarto.rs
│   │   │   │   │   │   ├── raku.rs
│   │   │   │   │   │   ├── red.rs
│   │   │   │   │   │   ├── rlang.rs
│   │   │   │   │   │   ├── ruby.rs
│   │   │   │   │   │   ├── rust.rs
│   │   │   │   │   │   ├── scala.rs
│   │   │   │   │   │   ├── shell.rs
│   │   │   │   │   │   ├── shlvl.rs
│   │   │   │   │   │   ├── singularity.rs
│   │   │   │   │   │   ├── solidity.rs
│   │   │   │   │   │   ├── spack.rs
│   │   │   │   │   │   ├── status.rs
│   │   │   │   │   │   ├── sudo.rs
│   │   │   │   │   │   ├── swift.rs
│   │   │   │   │   │   ├── terraform.rs
│   │   │   │   │   │   ├── time.rs
│   │   │   │   │   │   ├── typst.rs
│   │   │   │   │   │   ├── username.rs
│   │   │   │   │   │   ├── vagrant.rs
│   │   │   │   │   │   ├── vcsh.rs
│   │   │   │   │   │   ├── vlang.rs
│   │   │   │   │   │   ├── xmake.rs
│   │   │   │   │   │   └── zig.rs
│   │   │   │   │   ├── test/
│   │   │   │   │   │   ├── fixtures/
│   │   │   │   │   │   │   ├── git-repo.bundle
│   │   │   │   │   │   │   └── hg-repo.bundle
│   │   │   │   │   │   └── mod.rs
│   │   │   │   │   ├── bug_report.rs
│   │   │   │   │   ├── config.rs
│   │   │   │   │   ├── configure.rs
│   │   │   │   │   ├── context.rs
│   │   │   │   │   ├── context_env.rs
│   │   │   │   │   ├── lib.rs
│   │   │   │   │   ├── logger.rs
│   │   │   │   │   ├── main.rs
│   │   │   │   │   ├── module.rs
│   │   │   │   │   ├── print.rs
│   │   │   │   │   ├── segment.rs
│   │   │   │   │   ├── serde_utils.rs
│   │   │   │   │   └── utils.rs
│   │   │   │   ├── CHANGELOG.md
│   │   │   │   ├── CODE_OF_CONDUCT.md
│   │   │   │   ├── CONTRIBUTING.md
│   │   │   │   ├── Cargo.lock
│   │   │   │   ├── Cargo.toml
│   │   │   │   ├── LICENSE
│   │   │   │   ├── README.md
│   │   │   │   ├── SECURITY.md
│   │   │   │   ├── build.rs
│   │   │   │   ├── clippy.toml
│   │   │   │   ├── crowdin.yml
│   │   │   │   ├── deny.toml
│   │   │   │   ├── dot_codecov.yml
│   │   │   │   ├── dot_dprint.json
│   │   │   │   ├── dot_gitattributes
│   │   │   │   ├── dot_gitignore
│   │   │   │   ├── dot_rustfmt.toml
│   │   │   │   ├── release-please-config.json
│   │   │   │   ├── starship.exe.manifest
│   │   │   │   └── typos.toml
│   │   │   ├── zsh-autosuggestions/
│   │   │   │   ├── dot_git/
│   │   │   │   │   ├── hooks/
│   │   │   │   │   │   ├── executable_applypatch-msg.sample
│   │   │   │   │   │   ├── executable_commit-msg.sample
│   │   │   │   │   │   ├── executable_fsmonitor-watchman.sample
│   │   │   │   │   │   ├── executable_post-update.sample
│   │   │   │   │   │   ├── executable_pre-applypatch.sample
│   │   │   │   │   │   ├── executable_pre-commit.sample
│   │   │   │   │   │   ├── executable_pre-merge-commit.sample
│   │   │   │   │   │   ├── executable_pre-push.sample
│   │   │   │   │   │   ├── executable_pre-rebase.sample
│   │   │   │   │   │   ├── executable_pre-receive.sample
│   │   │   │   │   │   ├── executable_prepare-commit-msg.sample
│   │   │   │   │   │   ├── executable_push-to-checkout.sample
│   │   │   │   │   │   ├── executable_sendemail-validate.sample
│   │   │   │   │   │   └── executable_update.sample
│   │   │   │   │   ├── info/
│   │   │   │   │   │   └── exclude
│   │   │   │   │   ├── logs/
│   │   │   │   │   │   ├── refs/
│   │   │   │   │   │   │   ├── heads/
│   │   │   │   │   │   │   │   └── master
│   │   │   │   │   │   │   └── remotes/
│   │   │   │   │   │   │       └── origin/
│   │   │   │   │   │   │           └── HEAD
│   │   │   │   │   │   └── HEAD
│   │   │   │   │   ├── objects/
│   │   │   │   │   │   ├── info/
│   │   │   │   │   │   │   └── .keep
│   │   │   │   │   │   └── pack/
│   │   │   │   │   │       ├── readonly_pack-dfb0a1ba282115f6bc35f2c9b7db7e50b67aa8d7.idx
│   │   │   │   │   │       ├── readonly_pack-dfb0a1ba282115f6bc35f2c9b7db7e50b67aa8d7.pack
│   │   │   │   │   │       └── readonly_pack-dfb0a1ba282115f6bc35f2c9b7db7e50b67aa8d7.rev
│   │   │   │   │   ├── refs/
│   │   │   │   │   │   ├── heads/
│   │   │   │   │   │   │   └── master
│   │   │   │   │   │   ├── remotes/
│   │   │   │   │   │   │   └── origin/
│   │   │   │   │   │   │       └── HEAD
│   │   │   │   │   │   └── tags/
│   │   │   │   │   │       └── .keep
│   │   │   │   │   ├── HEAD
│   │   │   │   │   ├── config
│   │   │   │   │   ├── description
│   │   │   │   │   ├── index
│   │   │   │   │   ├── packed-refs
│   │   │   │   │   └── shallow
│   │   │   │   ├── dot_github/
│   │   │   │   │   ├── ISSUE_TEMPLATE/
│   │   │   │   │   │   ├── bug-report.md
│   │   │   │   │   │   └── feature_request.md
│   │   │   │   │   └── workflows/
│   │   │   │   │       └── integration.yml
│   │   │   │   ├── spec/
│   │   │   │   │   ├── integrations/
│   │   │   │   │   │   ├── auto_cd_spec.rb
│   │   │   │   │   │   ├── bracketed_paste_magic_spec.rb
│   │   │   │   │   │   ├── client_zpty_spec.rb
│   │   │   │   │   │   ├── glob_subst_spec.rb
│   │   │   │   │   │   ├── rebound_bracket_spec.rb
│   │   │   │   │   │   ├── vi_mode_spec.rb
│   │   │   │   │   │   ├── wrapped_widget_spec.rb
│   │   │   │   │   │   └── zle_input_stack_spec.rb
│   │   │   │   │   ├── options/
│   │   │   │   │   │   ├── buffer_max_size_spec.rb
│   │   │   │   │   │   ├── highlight_style_spec.rb
│   │   │   │   │   │   ├── original_widget_prefix_spec.rb
│   │   │   │   │   │   ├── strategy_spec.rb
│   │   │   │   │   │   └── widget_lists_spec.rb
│   │   │   │   │   ├── strategies/
│   │   │   │   │   │   ├── completion_spec.rb
│   │   │   │   │   │   ├── history_spec.rb
│   │   │   │   │   │   ├── match_prev_cmd_spec.rb
│   │   │   │   │   │   └── special_characters_helper.rb
│   │   │   │   │   ├── widgets/
│   │   │   │   │   │   ├── disable_spec.rb
│   │   │   │   │   │   ├── enable_spec.rb
│   │   │   │   │   │   ├── fetch_spec.rb
│   │   │   │   │   │   └── toggle_spec.rb
│   │   │   │   │   ├── async_spec.rb
│   │   │   │   │   ├── kill_ring_spec.rb
│   │   │   │   │   ├── line_init_spec.rb
│   │   │   │   │   ├── multi_line_spec.rb
│   │   │   │   │   ├── spec_helper.rb
│   │   │   │   │   └── terminal_session.rb
│   │   │   │   ├── src/
│   │   │   │   │   ├── strategies/
│   │   │   │   │   │   ├── completion.zsh
│   │   │   │   │   │   ├── history.zsh
│   │   │   │   │   │   └── match_prev_cmd.zsh
│   │   │   │   │   ├── async.zsh
│   │   │   │   │   ├── bind.zsh
│   │   │   │   │   ├── config.zsh
│   │   │   │   │   ├── fetch.zsh
│   │   │   │   │   ├── highlight.zsh
│   │   │   │   │   ├── start.zsh
│   │   │   │   │   ├── util.zsh
│   │   │   │   │   └── widgets.zsh
│   │   │   │   ├── CHANGELOG.md
│   │   │   │   ├── DESCRIPTION
│   │   │   │   ├── Dockerfile
│   │   │   │   ├── Gemfile
│   │   │   │   ├── Gemfile.lock
│   │   │   │   ├── INSTALL.md
│   │   │   │   ├── LICENSE
│   │   │   │   ├── Makefile
│   │   │   │   ├── README.md
│   │   │   │   ├── URL
│   │   │   │   ├── VERSION
│   │   │   │   ├── ZSH_VERSIONS
│   │   │   │   ├── dot_editorconfig
│   │   │   │   ├── dot_gitignore
│   │   │   │   ├── dot_rspec
│   │   │   │   ├── dot_rubocop.yml
│   │   │   │   ├── dot_ruby-version
│   │   │   │   ├── executable_install_test_zsh.sh
│   │   │   │   ├── zsh-autosuggestions.plugin.zsh
│   │   │   │   └── zsh-autosuggestions.zsh
│   │   │   └── zsh-helix-mode/
│   │   │       ├── dot_git/
│   │   │       │   ├── hooks/
│   │   │       │   │   ├── executable_applypatch-msg.sample
│   │   │       │   │   ├── executable_commit-msg.sample
│   │   │       │   │   ├── executable_fsmonitor-watchman.sample
│   │   │       │   │   ├── executable_post-update.sample
│   │   │       │   │   ├── executable_pre-applypatch.sample
│   │   │       │   │   ├── executable_pre-commit.sample
│   │   │       │   │   ├── executable_pre-merge-commit.sample
│   │   │       │   │   ├── executable_pre-push.sample
│   │   │       │   │   ├── executable_pre-rebase.sample
│   │   │       │   │   ├── executable_pre-receive.sample
│   │   │       │   │   ├── executable_prepare-commit-msg.sample
│   │   │       │   │   ├── executable_push-to-checkout.sample
│   │   │       │   │   ├── executable_sendemail-validate.sample
│   │   │       │   │   └── executable_update.sample
│   │   │       │   ├── info/
│   │   │       │   │   └── exclude
│   │   │       │   ├── logs/
│   │   │       │   │   ├── refs/
│   │   │       │   │   │   ├── heads/
│   │   │       │   │   │   │   └── main
│   │   │       │   │   │   └── remotes/
│   │   │       │   │   │       └── origin/
│   │   │       │   │   │           └── HEAD
│   │   │       │   │   └── HEAD
│   │   │       │   ├── objects/
│   │   │       │   │   ├── info/
│   │   │       │   │   │   └── .keep
│   │   │       │   │   └── pack/
│   │   │       │   │       ├── readonly_pack-7b25ea0398da6e2541de8db44a09808c949c2c47.idx
│   │   │       │   │       ├── readonly_pack-7b25ea0398da6e2541de8db44a09808c949c2c47.pack
│   │   │       │   │       └── readonly_pack-7b25ea0398da6e2541de8db44a09808c949c2c47.rev
│   │   │       │   ├── refs/
│   │   │       │   │   ├── heads/
│   │   │       │   │   │   └── main
│   │   │       │   │   ├── remotes/
│   │   │       │   │   │   └── origin/
│   │   │       │   │   │       └── HEAD
│   │   │       │   │   └── tags/
│   │   │       │   │       └── .keep
│   │   │       │   ├── HEAD
│   │   │       │   ├── config
│   │   │       │   ├── description
│   │   │       │   ├── index
│   │   │       │   ├── packed-refs
│   │   │       │   └── shallow
│   │   │       ├── LICENSE
│   │   │       ├── README.md
│   │   │       ├── default.nix
│   │   │       ├── flake.lock
│   │   │       ├── flake.nix
│   │   │       ├── zsh-helix-mode.plugin.zsh
│   │   │       └── zsh-helix-mode.zsh
│   │   └── dot_zshrc
│   ├── mimeapps.list
│   └── starship.toml
├── hosts/
│   ├── ashes/
│   │   ├── configuration.nix
│   │   └── hardware-configuration.nix
│   └── iso/
│       └── configuration.nix
├── modules/
│   ├── elevated-packages.nix
│   ├── home.nix
│   ├── intel-drivers.nix
│   ├── mango.nix
│   ├── packages.nix
│   ├── path.nix
│   ├── power-management.nix
│   ├── programs.nix
│   ├── river.nix
│   └── services.nix
├── README.md
├── flake.lock
├── flake.nix
├── install.sh
├── live-install.sh
└── setup.sh

# BEGIN FILE CONTENTS

# File: hosts/ashes/configuration.nix

{
  pkgs,
  lib,
  userName,
  fullName,
  helix,
  zen-browser,
  ...
}:

{
  environment.variables.EDITOR = "hx";
  nix = {
    settings.experimental-features = [
      "nix-command"
      "flakes"
    ];
    gc = {
      automatic = true;
      dates = "weekly";
      options = "--delete-older-than 30d";
    };
    settings.auto-optimise-store = true;
  };

  programs.zsh.enable = true;
  programs.starship.enable = true;

  users.users.${userName} = {
    isNormalUser = true;
    description = fullName;
    extraGroups = [
      "networkmanager"
      "wheel"
      "docker"
      "libvirtd"
      "kvm"
    ];
    shell = pkgs.zsh;
  };

  environment.etc."direnv/direnv.toml".text = ''
    [global]
    hide_env_diff = true
    warn_timeout = 0
    log_filter="^$"
  '';

  zramSwap.enable = true;
  nixpkgs.config.allowUnfree = true;

  boot.loader = {
    efi.canTouchEfiVariables = true;
    grub = {
      enable = true;
      devices = [ "nodev" ];
      efiSupport = true;
      useOSProber = true;
      gfxmodeEfi = "800x600";
      fontSize = 30;
    };
  };

  powerManagement = {
    powertop.enable = true;
    cpuFreqGovernor = lib.mkDefault "powersave";
  };

  fonts = {
    enableDefaultPackages = true; # Enables core defaults (serif, sans, mono, emoji)
    packages = with pkgs; [
      nerd-fonts.jetbrains-mono
      font-awesome
      roboto
    ];
  };

  networking = {
    hostName = "nixos";
    networkmanager.enable = true;
  };

  time.timeZone = "America/Sao_Paulo";
  i18n.defaultLocale = "en_US.UTF-8";
  i18n.extraLocaleSettings = {
    LC_ADDRESS = "en_US.UTF-8";
    LC_IDENTIFICATION = "en_US.UTF-8";
    LC_MEASUREMENT = "en_US.UTF-8";
    LC_MONETARY = "en_US.UTF-8";
    LC_NAME = "en_US.UTF-8";
    LC_NUMERIC = "en_US.UTF-8";
    LC_PAPER = "en_US.UTF-8";
    LC_TELEPHONE = "en_US.UTF-8";
    LC_TIME = "en_US.UTF-8";
  };

  system.stateVersion = "25.05";
}


# File: hosts/ashes/hardware-configuration.nix

# Do not modify this file!  It was generated by ‘nixos-generate-config’
# and may be overwritten by future invocations.  Please make changes
# to /etc/nixos/configuration.nix instead.
{ config, lib, pkgs, modulesPath, ... }:

{
  imports =
    [ (modulesPath + "/installer/scan/not-detected.nix")
    ];

  boot.initrd.availableKernelModules = [ "nvme" "xhci_pci" "ahci" "usbhid" ];
  boot.initrd.kernelModules = [ ];
  boot.kernelModules = [ "kvm-amd" ];
  boot.extraModulePackages = [ ];

  fileSystems."/" =
    { device = "/dev/disk/by-uuid/ac23fcb5-7f1a-4aca-b123-86e8c2110d02";
      fsType = "ext4";
    };

  fileSystems."/boot" =
    { device = "/dev/disk/by-uuid/F289-4F70";
      fsType = "vfat";
      options = [ "fmask=0077" "dmask=0077" ];
    };

  swapDevices = [ ];

  # Enables DHCP on each ethernet and wireless interface. In case of scripted networking
  # (the default) this is the recommended approach. When using systemd-networkd it's
  # still possible to use this option, but it's recommended to use it in conjunction
  # with explicit per-interface declarations with `networking.interfaces.<interface>.useDHCP`.
  networking.useDHCP = lib.mkDefault true;
  # networking.interfaces.enp8s0.useDHCP = lib.mkDefault true;
  # networking.interfaces.wlp7s0.useDHCP = lib.mkDefault true;

  nixpkgs.hostPlatform = lib.mkDefault "x86_64-linux";
  hardware.cpu.amd.updateMicrocode = lib.mkDefault config.hardware.enableRedistributableFirmware;
}


# File: hosts/iso/configuration.nix

{ pkgs, modulesPath, ... }:
{
  imports = [ "${modulesPath}/installer/cd-dvd/installation-cd-minimal.nix" ];

  nixpkgs.hostPlatform = "x86_64-linux";
}


# File: modules/elevated-packages.nix

{ pkgs, ... }:

{
  programs.nix-ld = {
    enable = true;
    libraries = with pkgs; [ stdenv.cc.cc ];
  };
}


# File: modules/home.nix

{
  pkgs,
  config,
  specialArgs,
  lib,
  ...
}:

let
  inherit (specialArgs)
    withGUI
    homeDir
    userName
    helix
    zen-browser
    helium-browser
    isRiver
    isMango
    ;
in
{
  imports = [ ./programs.nix ];

  home.username = userName;
  home.homeDirectory = homeDir;
  xdg.enable = true;
  home.stateVersion = "25.05";

  home.packages = pkgs.callPackage ./packages.nix {
    inherit
      withGUI
      helix
      zen-browser
      helium-browser
      ;
  };

  home.sessionPath = [
    "$HOME/.nix-profile/bin"
    "/nix/var/nix/profiles/default/bin"
  ];

  home.sessionVariables = {
    EDITOR = "hx";
    TERMINAL = "ghostty";
    BROWSER = "${zen-browser}/bin/zen";
    DEFAULT_BROWSER = "${zen-browser}/bin/zen";
    XDG_SCREENSHOTS_DIR = "$HOME/Pictures/screenshots";
    LC_ALL = "en_US.UTF-8";
    QT_QPA_PLATFORMTHEME = "qt6ct";
    NIXOS_OZONE_WL = "1";
    SHELL = "${pkgs.zsh}/bin/zsh";
  };

  home.file = {
    # For nix-shell
    ".config/nixpkgs/config.nix".text = ''
      {
        allowUnfree = true;
      }
    '';

    ".config/btop".source = config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/btop";

    ".config/lazygit".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/lazygit";

    ".config/fastfetch".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/fastfetch";

    ".config/wleave".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/wleave";

    ".config/helix".source = config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/helix";

    ".config/fuzzel".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/fuzzel";

    ".config/hypridle".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/hypridle";

    ".config/waybar".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/waybar";

    ".config/gtklock".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/gtklock";

    ".config/mako".source = config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/mako";

    ".config/mpd".source = config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/mpd";

    ".config/wpaperd".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/wpaperd";

    ".config/yazi".source = config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/yazi";

    ".config/zathura".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/zathura";

    ".config/zed".source = config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/zed";

    ".config/ghostty".source =
      config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/ghostty";

    ".zen".source = config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/zen";
  }

  // lib.optionalAttrs (isRiver) {
    ".config/river".source = config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/river";
  }

  // lib.optionalAttrs (isMango) {
    ".config/mango".source = config.lib.file.mkOutOfStoreSymlink "${homeDir}/NordValley/dotfiles/mango";
  };

  gtk = {
    theme = {
      name = "Nordic";
      package = pkgs.nordic;
    };
    iconTheme = {
      name = "Nordzy-dark";
      package = pkgs.nordzy-icon-theme;
    };
    gtk3.extraConfig = {
      gtk-application-prefer-dark-theme = 1;
    };
    gtk4.extraConfig = {
      gtk-application-prefer-dark-theme = 1;
    };
  };

  qt = {
    enable = true;
    style.name = "kvantum";
    platformTheme.name = "qt6ct";
  };
}


# File: modules/intel-drivers.nix

{
  lib,
  pkgs,
  config,
  ...
}:
with lib;
let
  cfg = config.drivers.intel;
in
{
  options.drivers.intel = {
    enable = mkEnableOption "Enable Intel Graphics Drivers";
  };

  config = mkIf cfg.enable {
    nixpkgs.config.packageOverrides = pkgs: {
      vaapiIntel = pkgs.vaapiIntel.override { enableHybridCodec = true; };
    };

    hardware.graphics = {
      extraPackages = with pkgs; [
        intel-media-driver
        vaapiIntel
        vaapiVdpau
        libvdpau-va-gl
      ];
    };
  };
}


# File: modules/mango.nix

{ userName, pkgs, ... }:
{
  # Enable mango at system level
  programs.mango.enable = true;

  environment.systemPackages = with pkgs; [
    xdg-desktop-portal-gtk
    xdg-desktop-portal-wlr
    xwayland
    (pkgs.runCommand "nord-sddm-theme" { } ''
      mkdir -p $out/share/sddm/themes/nord-sddm
      cp -r ${../dotfiles/sddm-theme}/* $out/share/sddm/themes/nord-sddm/
    '')
  ];

  services = {
    xserver = {
      enable = false;
      xkb = {
        layout = "br";
        variant = "";
      };
    };
    displayManager.sddm = {
      enable = true;
      wayland.enable = true;
      theme = "nord-sddm";
    };
    libinput.enable = true;
    upower.enable = true;
    fstrim.enable = true;
    gvfs.enable = true;
    openssh.enable = true;
    flatpak.enable = false;
    printing = {
      enable = false;
      drivers = [ pkgs.hplipWithPlugin ];
    };
    power-profiles-daemon.enable = false;
    auto-cpufreq = {
      enable = true;
      settings = {
        battery = {
          governor = "powersave";
          turbo = "never";
        };
        charger = {
          governor = "performance";
          turbo = "auto";
        };
      };
    };
    syncthing = {
      enable = true;
      user = userName;
      dataDir = "/home/${userName}";
    };
  };

  services.displayManager.autoLogin = {
    enable = false;
    user = userName;
  };

  # Create desktop entry for Mango
  environment.etc."sddm/wayland-sessions/mango.desktop".text = ''
    [Desktop Entry]
    Name=MangoWC
    Comment=A Wayland compositor based on wlroots
    DesktopNames=mango
    Exec=mango
    Type=Application
  '';
}


# File: modules/packages.nix

{
  pkgs,
  withGUI ? true,
  helix,
  zen-browser,
  helium-browser,
  ...
}:

with pkgs;

let
  basePackages = [
    # Build essentials
    efibootmgr
    gcc
    gnumake
    cargo
    rustc
    wget
    unzip
    tree-sitter
    nodejs_22

    bibata-cursors

    # LSP servers
    markdown-oxide
    mpls
    deno
    zig
    zls
    go
    gopls
    nixd
    nil
    nixfmt-rfc-style
    nixpkgs-fmt

    # CLI tools
    lazygit
    fzf
    fd
    ncdu
    ripgrep
    fastfetch
    nixos-shell
    nix-your-shell
    yazi
    yaziPlugins.nord
    yaziPlugins.starship
    bat
    ffmpeg

    # Media
    mpc
    mpd
    mpd-mpris
    playerctl
    rmpc

    # Wayland tools
    hypridle
    wleave
    gtklock
    wpaperd
    gammastep

    # System utilities
    p7zip
    btop
    brightnessctl
    appimage-run
    nh
    grim
    slurp
    wl-clipboard
    cliphist

    # GUI applications
    keepassxc
    anydesk
    lmstudio
    qbittorrent
    mpv
    imv

    # Libraries
    libgcc
    lxqt.lxqt-policykit
    libnotify

    # File manager
    xfce.thunar
    xfce.thunar-archive-plugin
    xfce.thunar-media-tags-plugin
    gvfs

    # Polkit
    polkit
    mate.mate-polkit

    # Network
    networkmanagerapplet

    # Qt
    libsForQt5.qt5.qtgraphicaleffects

    # Wayland bar/menu
    waybar
    fuzzel
    mako
    pavucontrol

    # Editors
    zed-editor

    # Custom packages from inputs
    zen-browser.packages.${pkgs.system}.default
    helium-browser.packages.${pkgs.system}.default
    helix.packages.${pkgs.system}.default
  ];
in
basePackages
++ lib.optionals withGUI [
  # Additional GUI tools if needed
]


# File: modules/path.nix

{ nixpkgs, pkgs, ... }:
{
  # make `nix run nixpkgs#nixpkgs` use the same nixpkgs as the one used by this flake.
  # remove nix-channel related tools & configs, we use flakes instead.
  # Use flake for nix_path https://nixos-and-flakes.thiscute.world/best-practices/nix-path-and-flake-registry
  nix = {
    channel.enable = false;
    registry.nixpkgs.flake = nixpkgs;
    settings.nix-path = nixpkgs.lib.mkForce "nixpkgs=/etc/nix/inputs/nixpkgs";
  };
  environment.etc."nix/inputs/nixpkgs".source = "${nixpkgs}";
}


# File: modules/power-management.nix

{ pkgs, lib, ... }:
{
  services.logind.settings = {
    Login = {
      HandlePowerKey = "suspend";
      HandlePowerKeyLongPress = "poweroff";
      HandleLidSwitch = "suspend";
      HandleLidSwitchExternalPower = "suspend";
      HandleLidSwitchDocked = "ignore";
    };
  };
}


# File: modules/programs.nix

{
  pkgs,
  config,
  lib,
  ...
}:

{
  programs = {
    git = {
      enable = true;
      lfs.enable = true;
    };

    direnv = {
      enable = true;
      nix-direnv.enable = true;
    };
  };

  xdg.configFile."direnv/direnv.toml".text = ''
    [global]
    hide_env_diff = true
    warn_timeout = 0
    log_filter="^$"
  '';
}


# File: modules/river.nix

{ userName, pkgs, ... }:
{
  environment.systemPackages = with pkgs; [
    river
    xdg-desktop-portal-gtk
    xdg-desktop-portal-wlr
    xwayland
    (pkgs.runCommand "nord-sddm-theme" { } ''
      mkdir -p $out/share/sddm/themes/nord-sddm
      cp -r ${../dotfiles/sddm-theme}/* $out/share/sddm/themes/nord-sddm/
    '')
  ];

  services = {
    xserver = {
      enable = false;
      xkb = {
        layout = "br";
        variant = "";
      };
    };
    displayManager.sddm = {
      enable = true;
      wayland.enable = true;
      theme = "nord-sddm";
    };
    libinput.enable = true;
    upower.enable = true;
    fstrim.enable = true;
    gvfs.enable = true;
    openssh.enable = true;
    flatpak.enable = false;
    printing = {
      enable = false;
      drivers = [ pkgs.hplipWithPlugin ];
    };
    power-profiles-daemon.enable = false;
    auto-cpufreq = {
      enable = true;
      settings = {
        battery = {
          governor = "powersave";
          turbo = "never";
        };
        charger = {
          governor = "performance";
          turbo = "auto";
        };
      };
    };
    syncthing = {
      enable = true;
      user = userName;
      dataDir = "/home/${userName}";
    };
  };

  services.displayManager.autoLogin = {
    enable = false;
    user = userName;
  };

  environment.etc."sddm/wayland-sessions/river.desktop".text = ''
    [Desktop Entry]
    Name=River
    Comment=A dynamic tiling Wayland compositor
    DesktopNames=river
    Exec=river
    Type=Application
  '';
}


# File: modules/services.nix

{
  pkgs,
  userName,
  homeDir,
  ...
}:

{
  virtualisation = {
    docker = {
      enable = true;
    };

    libvirtd = {
      enable = true;
      qemu = {
        package = pkgs.qemu_kvm;
        swtpm.enable = true;
      };
    };

    spiceUSBRedirection.enable = true;
  };

  environment.systemPackages = with pkgs; [
    libvirt
    qemu
    virt-viewer
    virt-manager
    spice
    spice-gtk
    spice-protocol
    OVMF
  ];

  services.envfs.enable = true;

  services.pipewire = {
    enable = true;
    alsa.enable = true;
    alsa.support32Bit = true;
    pulse.enable = true;
    jack.enable = true;
  };
}


# File: README.md

<p align="center"><img src="https://i.imgur.com/X5zKxvp.png" width=150px></p>

# NordValley NixOS Installation Guide

Complete guide for installing and configuring NixOS with River or MangoWC window managers.

## Prerequisites

- NixOS ISO (minimal or graphical)
- Internet connection
- Bootable USB drive with NixOS
- Basic Linux terminal knowledge

## Quick Installation

### Option 1: Automatic Installation (Recommended)

1. **After a minimal NixOS installation, install git via nix-shell**

```bash
nix-shell -p git
```

* **Configure network** (if needed):
```bash
# For WiFi
sudo systemctl start wpa_supplicant
wpa_cli

# For Ethernet (usually automatic)
```

2. **Clone the repository**:
```bash
# Temporarily in live environment
git clone https://github.com/jvssdev/NordValley.git
cd NordValley
```

3. **Run the installer**:
```bash
chmod +x install.sh
./install.sh
```

The script will:
- Automatically detect if running in live or installed environment
- Guide you through disk partitioning
- Request user information
- Install the complete system
- Configure everything automatically

### Option 2: Manual Installation

If you prefer step-by-step:

#### 1. Partition the disk

```bash
# Identify your disk
lsblk

# Partition (example for /dev/sda)
sudo parted /dev/sda -- mklabel gpt
sudo parted /dev/sda -- mkpart ESP fat32 1MiB 512MiB
sudo parted /dev/sda -- set 1 esp on
sudo parted /dev/sda -- mkpart primary 512MiB 100%
```

#### 2. Format partitions

```bash
# Boot (EFI)
sudo mkfs.fat -F 32 -n BOOT /dev/sda1

# Root
sudo mkfs.ext4 -L nixos /dev/sda2
```

#### 3. Mount partitions

```bash
sudo mount /dev/sda2 /mnt
sudo mkdir -p /mnt/boot
sudo mount /dev/sda1 /mnt/boot
```

#### 4. Generate hardware configuration

```bash
sudo nixos-generate-config --root /mnt
```

#### 5. Clone repository to target system

```bash
sudo mkdir -p /mnt/home/yourusername
cd /mnt/home/yourusername
sudo git clone https://github.com/joaovictor-ss/NordValley.git
```

#### 6. Update flake with your information

Edit `/mnt/home/yourusername/NordValley/flake.nix`:

```nix
userInfo = {
  userName = "yourusername";
  fullName = "Your Full Name";
  userEmail = "your@email.com";
};
```

#### 7. Copy hardware configuration

```bash
sudo cp /mnt/etc/nixos/hardware-configuration.nix \
   /mnt/home/yourusername/NordValley/hosts/ashes/
```

#### 8. Install NixOS

For River:
```bash
sudo nixos-install --flake /mnt/home/yourusername/NordValley#river
```

For MangoWC:
```bash
sudo nixos-install --flake /mnt/home/yourusername/NordValley#mangowc
```

#### 9. Set user password

```bash
sudo nixos-enter --root /mnt
passwd yourusername
exit
```

#### 10. Unmount and reboot

```bash
sudo umount -R /mnt
sudo reboot
```

## Post-installation

After rebooting into the installed system:

### 1. Configure the system

```bash
cd ~/NordValley
./install.sh
```

Or manually:

```bash
# For River
sudo nixos-rebuild switch --flake .#river

# For MangoWC
sudo nixos-rebuild switch --flake .#mangowc
```

### 2. Verify everything is working

```bash
# Test the editor
hx

# Test the terminal
ghostty

# Check services
systemctl status
```

## Directory Structure

After installation:

```
~/NordValley/               # Main configuration
  ├── dotfiles/            # Configuration files
  ├── hosts/               # Per-host configurations
  ├── modules/             # NixOS modules
  └── flake.nix           # Entry point

~/.config/                  # Symlinks to dotfiles
  ├── helix/
  ├── ghostty/
  ├── waybar/
  └── ...
```

## Customization

### Change Window Manager

```bash
# Rebuild with another WM
sudo nixos-rebuild switch --flake ~/NordValley#mangowc
```

### Update the system

```bash
cd ~/NordValley
nix flake update
sudo nixos-rebuild switch --flake .#river
```

### Add packages

Edit `~/NordValley/modules/packages.nix`:

```nix
basePackages = [
  # Your packages here
  neovim
  git
  # ...
];
```

Then:

```bash
sudo nixos-rebuild switch --flake ~/NordValley#river
```

## Main Keybindings

### River

- `Super + Return`: Open terminal
- `Super + D`: Launcher (Fuzzel)
- `Super + Q`: Close window
- `Super + Shift + E`: Exit

### Ghostty (Terminal)

- `Ctrl + Shift + T`: New tab
- `Ctrl + Shift + W`: Close tab
- `Ctrl + Shift + C/V`: Copy/Paste

## Troubleshooting

### Problem: Boot not working

```bash
# Reinstall bootloader
sudo nixos-rebuild switch --install-bootloader
```

### Problem: Graphics drivers

For Intel:
```bash
# Edit hosts/ashes/configuration.nix
# Add:
drivers.intel.enable = true;

# Rebuild
sudo nixos-rebuild switch --flake ~/NordValley#river
```

### Problem: Configuration not applying

```bash
# Clean and rebuild
sudo nix-collect-garbage -d
sudo nixos-rebuild switch --flake ~/NordValley#river
```

### Problem: Home Manager conflicts

```bash
# Remove conflicts
rm -rf ~/.config/gtk-*
rm -rf ~/.gtkrc-*
rm -rf ~/.zen/profiles.ini
# Rebuild
sudo nixos-rebuild switch --flake ~/NordValley#river
```

## Additional Resources

- [NixOS Manual](https://nixos.org/manual/nixos/stable/)
- [Home Manager Manual](https://nix-community.github.io/home-manager/)
- [River Documentation](https://github.com/riverwm/river/wiki)
- [Helix Documentation](https://docs.helix-editor.com/)

## Contributing

Feel free to open issues or pull requests!

## License

This project is under the MIT license.

---

**Note**: Always backup your data before any installation!

#### Cleanup storage

Delete stale paths: `nix-collect-garbage`

Delete stale paths and generations older than x days: `nix-collect-garbage --delete-older-than 30d`



# File: flake.lock

{
  "nodes": {
    "flake-parts": {
      "inputs": {
        "nixpkgs-lib": [
          "helium-browser",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1759362264,
        "narHash": "sha256-wfG0S7pltlYyZTM+qqlhJ7GMw2fTF4mLKCIVhLii/4M=",
        "owner": "hercules-ci",
        "repo": "flake-parts",
        "rev": "758cf7296bee11f1706a574c77d072b8a7baa881",
        "type": "github"
      },
      "original": {
        "owner": "hercules-ci",
        "repo": "flake-parts",
        "type": "github"
      }
    },
    "flake-parts_2": {
      "inputs": {
        "nixpkgs-lib": "nixpkgs-lib"
      },
      "locked": {
        "lastModified": 1749398372,
        "narHash": "sha256-tYBdgS56eXYaWVW3fsnPQ/nFlgWi/Z2Ymhyu21zVM98=",
        "owner": "hercules-ci",
        "repo": "flake-parts",
        "rev": "9305fe4e5c2a6fcf5ba6a3ff155720fbe4076569",
        "type": "github"
      },
      "original": {
        "owner": "hercules-ci",
        "repo": "flake-parts",
        "type": "github"
      }
    },
    "flake-parts_3": {
      "inputs": {
        "nixpkgs-lib": [
          "nur",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1733312601,
        "narHash": "sha256-4pDvzqnegAfRkPwO3wmwBhVi/Sye1mzps0zHWYnP88c=",
        "owner": "hercules-ci",
        "repo": "flake-parts",
        "rev": "205b12d8b7cd4802fbcb8e8ef6a0f1408781a4f9",
        "type": "github"
      },
      "original": {
        "owner": "hercules-ci",
        "repo": "flake-parts",
        "type": "github"
      }
    },
    "helium-browser": {
      "inputs": {
        "flake-parts": "flake-parts",
        "nixpkgs": "nixpkgs",
        "treefmt-nix": "treefmt-nix"
      },
      "locked": {
        "lastModified": 1762608461,
        "narHash": "sha256-+TNPqE/Rlk0bIa7fTzGb03k+EGgM7TXo2j80n/X8aok=",
        "owner": "ominit",
        "repo": "helium-browser-flake",
        "rev": "994bdd5026718f3d716e25ffafad3b3dd6afe6b2",
        "type": "github"
      },
      "original": {
        "owner": "ominit",
        "repo": "helium-browser-flake",
        "type": "github"
      }
    },
    "helix": {
      "inputs": {
        "nixpkgs": "nixpkgs_2",
        "rust-overlay": "rust-overlay"
      },
      "locked": {
        "lastModified": 1762560325,
        "narHash": "sha256-lIkbDXmzJNAj/Y7eHRynBvixvMiQLmKcH7sX4syseh8=",
        "owner": "helix-editor",
        "repo": "helix",
        "rev": "65ea351cc30b23d40e9a5784a4be99768536b7f5",
        "type": "github"
      },
      "original": {
        "owner": "helix-editor",
        "ref": "master",
        "repo": "helix",
        "type": "github"
      }
    },
    "home-manager": {
      "inputs": {
        "nixpkgs": [
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1762463325,
        "narHash": "sha256-33YUsWpPyeBZEWrKQ2a1gkRZ7i0XCC/2MYpU6BVeQSU=",
        "owner": "nix-community",
        "repo": "home-manager",
        "rev": "0562fef070a1027325dd4ea10813d64d2c967b39",
        "type": "github"
      },
      "original": {
        "owner": "nix-community",
        "repo": "home-manager",
        "type": "github"
      }
    },
    "mango": {
      "inputs": {
        "flake-parts": "flake-parts_2",
        "nixpkgs": "nixpkgs_3",
        "scenefx": "scenefx"
      },
      "locked": {
        "lastModified": 1762615612,
        "narHash": "sha256-8B8W/kOMssLgS9xtbtdVlG6VcBJbzFSRFHfHx7Wufa8=",
        "owner": "DreamMaoMao",
        "repo": "mango",
        "rev": "47f0ea84c1a1610087d3a588d6a0882f31c48a33",
        "type": "github"
      },
      "original": {
        "owner": "DreamMaoMao",
        "repo": "mango",
        "type": "github"
      }
    },
    "nixpkgs": {
      "locked": {
        "lastModified": 1759831965,
        "narHash": "sha256-vgPm2xjOmKdZ0xKA6yLXPJpjOtQPHfaZDRtH+47XEBo=",
        "owner": "nixos",
        "repo": "nixpkgs",
        "rev": "c9b6fb798541223bbb396d287d16f43520250518",
        "type": "github"
      },
      "original": {
        "owner": "nixos",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nixpkgs-lib": {
      "locked": {
        "lastModified": 1748740939,
        "narHash": "sha256-rQaysilft1aVMwF14xIdGS3sj1yHlI6oKQNBRTF40cc=",
        "owner": "nix-community",
        "repo": "nixpkgs.lib",
        "rev": "656a64127e9d791a334452c6b6606d17539476e2",
        "type": "github"
      },
      "original": {
        "owner": "nix-community",
        "repo": "nixpkgs.lib",
        "type": "github"
      }
    },
    "nixpkgs_2": {
      "locked": {
        "lastModified": 1759381078,
        "narHash": "sha256-gTrEEp5gEspIcCOx9PD8kMaF1iEmfBcTbO0Jag2QhQs=",
        "owner": "nixos",
        "repo": "nixpkgs",
        "rev": "7df7ff7d8e00218376575f0acdcc5d66741351ee",
        "type": "github"
      },
      "original": {
        "owner": "nixos",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nixpkgs_3": {
      "locked": {
        "lastModified": 1750386251,
        "narHash": "sha256-1ovgdmuDYVo5OUC5NzdF+V4zx2uT8RtsgZahxidBTyw=",
        "owner": "NixOS",
        "repo": "nixpkgs",
        "rev": "076e8c6678d8c54204abcb4b1b14c366835a58bb",
        "type": "github"
      },
      "original": {
        "owner": "NixOS",
        "ref": "nixpkgs-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nixpkgs_4": {
      "locked": {
        "lastModified": 1762363567,
        "narHash": "sha256-YRqMDEtSMbitIMj+JLpheSz0pwEr0Rmy5mC7myl17xs=",
        "owner": "NixOS",
        "repo": "nixpkgs",
        "rev": "ae814fd3904b621d8ab97418f1d0f2eb0d3716f4",
        "type": "github"
      },
      "original": {
        "owner": "NixOS",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nixpkgs_5": {
      "locked": {
        "lastModified": 1762363567,
        "narHash": "sha256-YRqMDEtSMbitIMj+JLpheSz0pwEr0Rmy5mC7myl17xs=",
        "owner": "nixos",
        "repo": "nixpkgs",
        "rev": "ae814fd3904b621d8ab97418f1d0f2eb0d3716f4",
        "type": "github"
      },
      "original": {
        "owner": "nixos",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nixpkgs_6": {
      "locked": {
        "lastModified": 1727348695,
        "narHash": "sha256-J+PeFKSDV+pHL7ukkfpVzCOO7mBSrrpJ3svwBFABbhI=",
        "owner": "nixos",
        "repo": "nixpkgs",
        "rev": "1925c603f17fc89f4c8f6bf6f631a802ad85d784",
        "type": "github"
      },
      "original": {
        "owner": "nixos",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nur": {
      "inputs": {
        "flake-parts": "flake-parts_3",
        "nixpkgs": "nixpkgs_5"
      },
      "locked": {
        "lastModified": 1762641887,
        "narHash": "sha256-owXprdtO+bDV6LM9Dv5LUhHOTuF5p8GI6E14dHUvq0Q=",
        "owner": "nix-community",
        "repo": "NUR",
        "rev": "853639eea83335c78dd6ee2e3bd286e98180367a",
        "type": "github"
      },
      "original": {
        "owner": "nix-community",
        "repo": "NUR",
        "type": "github"
      }
    },
    "root": {
      "inputs": {
        "helium-browser": "helium-browser",
        "helix": "helix",
        "home-manager": "home-manager",
        "mango": "mango",
        "nixpkgs": "nixpkgs_4",
        "nur": "nur",
        "zen-browser": "zen-browser"
      }
    },
    "rust-overlay": {
      "inputs": {
        "nixpkgs": [
          "helix",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1759631821,
        "narHash": "sha256-V8A1L0FaU/aSXZ1QNJScxC12uP4hANeRBgI4YdhHeRM=",
        "owner": "oxalica",
        "repo": "rust-overlay",
        "rev": "1d7cbdaad90f8a5255a89a6eddd8af24dc89cafe",
        "type": "github"
      },
      "original": {
        "owner": "oxalica",
        "repo": "rust-overlay",
        "type": "github"
      }
    },
    "scenefx": {
      "inputs": {
        "nixpkgs": [
          "mango",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1750785057,
        "narHash": "sha256-tGX6j4W91rcb+glXJo43sjPI9zQvPotonknG1BdihR4=",
        "owner": "wlrfx",
        "repo": "scenefx",
        "rev": "3a6cfb12e4ba97b43326357d14f7b3e40897adfc",
        "type": "github"
      },
      "original": {
        "owner": "wlrfx",
        "repo": "scenefx",
        "type": "github"
      }
    },
    "treefmt-nix": {
      "inputs": {
        "nixpkgs": [
          "helium-browser",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1758728421,
        "narHash": "sha256-ySNJ008muQAds2JemiyrWYbwbG+V7S5wg3ZVKGHSFu8=",
        "owner": "numtide",
        "repo": "treefmt-nix",
        "rev": "5eda4ee8121f97b218f7cc73f5172098d458f1d1",
        "type": "github"
      },
      "original": {
        "owner": "numtide",
        "repo": "treefmt-nix",
        "type": "github"
      }
    },
    "zen-browser": {
      "inputs": {
        "nixpkgs": "nixpkgs_6"
      },
      "locked": {
        "lastModified": 1727721329,
        "narHash": "sha256-QYlWZwUSwrM7BuO+dXclZIwoPvBIuJr6GpFKv9XKFPI=",
        "owner": "MarceColl",
        "repo": "zen-browser-flake",
        "rev": "e6ab73f405e9a2896cce5956c549a9cc359e5fcc",
        "type": "github"
      },
      "original": {
        "owner": "MarceColl",
        "repo": "zen-browser-flake",
        "type": "github"
      }
    }
  },
  "root": "root",
  "version": 7
}


# File: flake.nix

{
  description = "NixOS configuration with River and MangoWC window managers";

  inputs = {
    nixpkgs.url = "github:NixOS/nixpkgs/nixos-unstable";
    home-manager.url = "github:nix-community/home-manager";
    home-manager.inputs.nixpkgs.follows = "nixpkgs";
    helix.url = "github:helix-editor/helix/master";
    zen-browser.url = "github:MarceColl/zen-browser-flake";
    helium-browser.url = "github:ominit/helium-browser-flake";
    nur.url = "github:nix-community/NUR";
    mango.url = "github:DreamMaoMao/mango";
  };

  outputs =
    {
      nixpkgs,
      home-manager,
      nur,
      ...
    }@inputs:
    let
      userInfo = {
        userName = "joaov";
        fullName = "João Víctor Santos Silva";
        userEmail = "joao.victor.ss.dev@gmail.com";
      };

      system = "x86_64-linux";

      defaults = {
        withGUI = true;
        homeDir = "/home/${userInfo.userName}";
      };

      pkgs = import nixpkgs {
        inherit system;
        config.allowUnfree = true;
      };
    in
    {
      # RiverWM
      nixosConfigurations.river = nixpkgs.lib.nixosSystem {
        inherit system;
        specialArgs =
          inputs
          // userInfo
          // {
            inherit pkgs;
            withGUI = defaults.withGUI;
            homeDir = defaults.homeDir;
            isRiver = true;
            isMango = false;
          };
        modules = [
          ./hosts/ashes/configuration.nix
          ./hosts/ashes/hardware-configuration.nix
          ./modules/path.nix
          ./modules/services.nix
          ./modules/elevated-packages.nix
          ./modules/intel-drivers.nix
          ./modules/power-management.nix
          ./modules/river.nix
          {
            nixpkgs.overlays = [
              nur.overlays.default
              (import ./overlays/river-next.nix)
            ];
          }
          home-manager.nixosModules.home-manager
          {
            home-manager = {
              useGlobalPkgs = true;
              useUserPackages = true;
              users.${userInfo.userName} = import ./modules/home.nix;
              extraSpecialArgs = {
                inherit (inputs) helix zen-browser helium-browser;
                inherit (userInfo) userName userEmail fullName;
                inherit (defaults) withGUI homeDir;
                isRiver = true;
                isMango = false;
              };
            };
          }
        ];
      };

      # MangoWC
      nixosConfigurations.mangowc = nixpkgs.lib.nixosSystem {
        inherit system;
        specialArgs =
          inputs
          // userInfo
          // {
            inherit pkgs;
            withGUI = defaults.withGUI;
            homeDir = defaults.homeDir;
            isRiver = false;
            isMango = true;
          };
        modules = [
          ./hosts/ashes/configuration.nix
          ./hosts/ashes/hardware-configuration.nix
          ./modules/path.nix
          ./modules/services.nix
          ./modules/elevated-packages.nix
          ./modules/power-management.nix
          ./modules/intel-drivers.nix
          ./modules/mango.nix
          { nixpkgs.overlays = [ nur.overlays.default ]; }
          home-manager.nixosModules.home-manager
          {
            home-manager = {
              useGlobalPkgs = true;
              useUserPackages = true;
              users.${userInfo.userName} = import ./modules/home.nix;
              extraSpecialArgs = {
                inherit (inputs) helix zen-browser helium-browser;
                inherit (userInfo) userName userEmail fullName;
                inherit (defaults) withGUI homeDir;
                isRiver = false;
                isMango = true;
              };
            };
          }
        ];
      };

      homeConfigurations.universal = home-manager.lib.homeManagerConfiguration {
        pkgs = import nixpkgs {
          inherit system;
          config.allowUnfree = true;
        };
        extraSpecialArgs = {
          withGUI = defaults.withGUI;
          homeDir = defaults.homeDir;
          helix = inputs.helix;
          zen-browser = inputs.zen-browser;
          helium-browser = inputs.helium-browser;
          isRiver = false;
          isMango = false;
        }
        // userInfo;
        modules = [ ./modules/home.nix ];
      };

      # Build ISO image
      nixosConfigurations.iso = nixpkgs.lib.nixosSystem {
        inherit system;
        modules = [ ./hosts/iso/configuration.nix ];
      };
    };
}


# File: install.sh

#!/usr/bin/env bash
set -e

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m'

print_success() { echo -e "${GREEN}✓${NC} $1"; }
print_error() { echo -e "${RED}✗${NC} $1"; }
print_info() { echo -e "${BLUE}ℹ${NC} $1"; }
print_warning() { echo -e "${YELLOW}⚠${NC} $1"; }

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Check if running in live environment
if [ -d "/iso" ] || [ "$(findmnt -o FSTYPE -n /)" = "tmpfs" ]; then
    print_info "Detected NixOS live environment"
    print_info "Starting installation wizard..."
    echo
    
    if [ ! -f "$SCRIPT_DIR/live-install.sh" ]; then
        print_error "live-install.sh not found!"
        exit 1
    fi
    
    sudo bash "$SCRIPT_DIR/live-install.sh"
    exit $?
fi

# Check if running on NixOS
if [[ ! "$(grep -i nixos </etc/os-release 2>/dev/null)" ]]; then
    print_error "This script only works on NixOS!"
    echo "Download an ISO at https://nixos.org/download/"
    exit 1
fi

# Check if running as root
if [[ $EUID -eq 0 ]]; then
    print_error "This script should not be executed as root in installed system!"
    print_info "Run it as your regular user"
    exit 1
fi

# Running in installed system
print_info "Detected installed NixOS system"
print_info "Starting setup wizard..."
echo

if [ ! -f "$SCRIPT_DIR/setup.sh" ]; then
    print_error "setup.sh not found!"
    exit 1
fi

bash "$SCRIPT_DIR/setup.sh"
exit $?


# File: live-install.sh

#!/usr/bin/env bash

set -e

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m'

print_success() { echo -e "${GREEN}✓${NC} $1"; }
print_error() { echo -e "${RED}✗${NC} $1"; }
print_info() { echo -e "${BLUE}ℹ${NC} $1"; }
print_warning() { echo -e "${YELLOW}⚠${NC} $1"; }

# Check if running as root
if [[ $EUID -ne 0 ]]; then
    print_error "This script must be run as root in live environment"
    exit 1
fi

# Check if in live environment
if [ ! -d "/iso" ] && [ "$(findmnt -o FSTYPE -n /)" != "tmpfs" ]; then
    print_error "This script should only be run in the NixOS live environment"
    exit 1
fi

cat << "EOF"
╔═══════════════════════════════════════════════════════════╗
║           NixOS Live Environment Installer                ║
║                   Nord Valley Setup                       ║
╚═══════════════════════════════════════════════════════════╝
EOF
echo

print_warning "This script will guide you through partitioning and installing NixOS"
echo

# Get user input
read -p "Enter username: " USERNAME
read -p "Enter full name: " FULLNAME
read -p "Enter email: " EMAIL
read -s -p "Enter password for $USERNAME: " PASSWORD
echo
read -s -p "Confirm password: " PASSWORD2
echo

if [ "$PASSWORD" != "$PASSWORD2" ]; then
    print_error "Passwords do not match!"
    exit 1
fi

# Disk selection
print_info "Available disks:"
lsblk -d -o NAME,SIZE,TYPE | grep disk
echo
read -p "Enter disk to install to (e.g., nvme0n1, sda): " DISK
DISK="/dev/$DISK"

if [ ! -b "$DISK" ]; then
    print_error "Disk $DISK does not exist!"
    exit 1
fi

print_warning "This will ERASE ALL DATA on $DISK"
read -p "Are you sure? Type 'yes' to continue: " CONFIRM

if [ "$CONFIRM" != "yes" ]; then
    print_error "Installation cancelled"
    exit 1
fi

# Window manager selection
echo
echo "Select window manager:"
echo "1) River (default)"
echo "2) MangoWC"
read -p "Enter choice [1]: " WM_CHOICE
WM_CHOICE=${WM_CHOICE:-1}

case $WM_CHOICE in
    1) WM_CONFIG="river" ;;
    2) WM_CONFIG="mangowc" ;;
    *) WM_CONFIG="river" ;;
esac

print_info "Selected: $WM_CONFIG"

# Partition the disk
print_info "Partitioning disk..."

parted "$DISK" -- mklabel gpt
parted "$DISK" -- mkpart ESP fat32 1MiB 512MiB
parted "$DISK" -- set 1 esp on
parted "$DISK" -- mkpart primary 512MiB 100%

print_success "Disk partitioned"

# Determine partition names
if [[ "$DISK" == *"nvme"* ]] || [[ "$DISK" == *"mmcblk"* ]]; then
    BOOT_PART="${DISK}p1"
    ROOT_PART="${DISK}p2"
else
    BOOT_PART="${DISK}1"
    ROOT_PART="${DISK}2"
fi

# Format partitions
print_info "Formatting partitions..."

mkfs.fat -F 32 -n BOOT "$BOOT_PART"
mkfs.ext4 -L nixos "$ROOT_PART"

print_success "Partitions formatted"

# Mount partitions
print_info "Mounting partitions..."

mount "$ROOT_PART" /mnt
mkdir -p /mnt/boot
mount "$BOOT_PART" /mnt/boot

print_success "Partitions mounted"

# Generate hardware configuration
print_info "Generating hardware configuration..."

nixos-generate-config --root /mnt

# Clone repository
print_info "Cloning NordValley repository..."

mkdir -p /mnt/home/"$USERNAME"
cd /mnt/home/"$USERNAME"

if ! git clone https://github.com/joaovictor-ss/NordValley.git; then
    print_error "Failed to clone repository"
    print_info "You can manually clone it later"
fi

REPO_DIR="/mnt/home/$USERNAME/NordValley"

if [ -d "$REPO_DIR" ]; then
    # Update flake with user info
    print_info "Updating configuration..."
    
    sed -i -e "s/userName = \".*\"/userName = \"$USERNAME\"/" \
           -e "s/fullName = \".*\"/fullName = \"$FULLNAME\"/" \
           -e "s/userEmail = \".*\"/userEmail = \"$EMAIL\"/" \
        "$REPO_DIR/flake.nix"
    
    # Copy hardware configuration
    cp /mnt/etc/nixos/hardware-configuration.nix "$REPO_DIR/hosts/ashes/"
    
    print_success "Configuration updated"
    
    # Install NixOS
    print_info "Installing NixOS..."
    print_warning "This will take a while..."
    
    if nixos-install --flake "$REPO_DIR#$WM_CONFIG" --root /mnt; then
        # Set user password
        print_info "Setting user password..."
        echo "$USERNAME:$PASSWORD" | nixos-enter --root /mnt -- chpasswd
        
        # Set ownership
        chown -R 1000:100 /mnt/home/"$USERNAME"
        
        print_success "═══════════════════════════════════════════════════════════"
        print_success "  Installation completed successfully!"
        print_success "═══════════════════════════════════════════════════════════"
        echo
        echo "Installation details:"
        echo "  User: $USERNAME"
        echo "  Window Manager: $WM_CONFIG"
        echo "  Boot partition: $BOOT_PART"
        echo "  Root partition: $ROOT_PART"
        echo
        print_warning "Please unmount and reboot:"
        echo "  umount -R /mnt"
        echo "  reboot"
    else
        print_error "Installation failed!"
        exit 1
    fi
else
    print_error "Repository not found. Manual installation required."
    print_info "After reboot, run the setup.sh script"
fi


# File: setup.sh

#!/usr/bin/env bash
set -e

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Configuration
FLAKE_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
REPO_NAME="NordValley"

# Helper functions
print_success() {
    echo -e "${GREEN}✓${NC} $1"
}

print_error() {
    echo -e "${RED}✗${NC} $1"
}

print_info() {
    echo -e "${BLUE}ℹ${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}⚠${NC} $1"
}

# Check if running as root
if [[ $EUID -eq 0 ]]; then
    print_error "This script should not be executed as root! Exiting..."
    exit 1
fi

# Check if using NixOS
if [[ ! "$(grep -i nixos </etc/os-release 2>/dev/null)" ]]; then
    print_error "This installation script only works on NixOS!"
    echo "Download an ISO at https://nixos.org/download/"
    exit 1
fi

# Display banner
cat << "EOF"
╔═══════════════════════════════════════════════════════════╗
║                  NixOS Setup Automation                   ║
║                      Nord Valley                          ║
╚═══════════════════════════════════════════════════════════╝
EOF
echo

# Get current user
currentUser=$(whoami)
print_info "Current user: $currentUser"

# Ask for user information
echo
read -p "Enter your full name [João Víctor Santos Silva]: " fullName
fullName=${fullName:-"João Víctor Santos Silva"}

read -p "Enter your email [joao.victor.ss.dev@gmail.com]: " userEmail
userEmail=${userEmail:-"joao.victor.ss.dev@gmail.com"}

# Ask which window manager to use
echo
echo "Select window manager:"
echo "1) River (default)"
echo "2) MangoWC"
read -p "Enter choice [1]: " wm_choice
wm_choice=${wm_choice:-1}

case $wm_choice in
    1)
        WM_CONFIG="river"
        print_info "Selected: River Window Manager"
        ;;
    2)
        WM_CONFIG="mangowc"
        print_info "Selected: MangoWC Window Manager"
        ;;
    *)
        print_warning "Invalid choice, defaulting to River"
        WM_CONFIG="river"
        ;;
esac

# Update flake.nix with user information
print_info "Updating user configuration..."

# Backup original flake.nix
cp "${FLAKE_DIR}/flake.nix" "${FLAKE_DIR}/flake.nix.backup"

# Update user information in flake.nix
sed -i -e "s/userName = \".*\"/userName = \"$currentUser\"/" \
       -e "s/fullName = \".*\"/fullName = \"$fullName\"/" \
       -e "s/userEmail = \".*\"/userEmail = \"$userEmail\"/" \
    "${FLAKE_DIR}/flake.nix"

print_success "User configuration updated"

# Handle hardware configuration
print_info "Configuring hardware..."

HARDWARE_CONFIG="${FLAKE_DIR}/hosts/ashes/hardware-configuration.nix"

if [ -f "/etc/nixos/hardware-configuration.nix" ]; then
    print_info "Found existing hardware configuration"
    sudo cp "/etc/nixos/hardware-configuration.nix" "$HARDWARE_CONFIG"
    print_success "Hardware configuration copied"
else
    print_info "Generating new hardware configuration"
    sudo nixos-generate-config --show-hardware-config | sudo tee "$HARDWARE_CONFIG" >/dev/null
    print_success "Hardware configuration generated"
fi

# Clean conflicting directories
print_info "Cleaning conflicting directories..."

paths=(
    ~/.mozilla/firefox/profiles.ini
    ~/.zen/profiles.ini
    ~/.gtkrc-*
    ~/.config/gtk-*
    ~/.config/cava
    ~/.config/mimeapps.list
)

for file in "${paths[@]}"; do
    for expanded in $file; do
        if [ -e "$expanded" ] && [ ! -L "$expanded" ]; then
            print_info "Removing: $expanded"
            rm -rf "$expanded"
        fi
    done
done

print_success "Cleanup completed"

# Create necessary directories
print_info "Creating directory structure..."

mkdir -p ~/Pictures/screenshots
mkdir -p ~/Documents
mkdir -p ~/Downloads
mkdir -p ~/.config

print_success "Directories created"

# Enable Intel drivers if needed
read -p "Enable Intel graphics drivers? (y/n) [n]: " enable_intel
if [[ $enable_intel =~ ^[Yy]$ ]]; then
    print_info "Intel drivers will be enabled"
    # This will be handled by the configuration
fi

# Ask about additional features
echo
print_info "Optional features:"
read -p "Enable Docker? (y/n) [y]: " enable_docker
enable_docker=${enable_docker:-y}

read -p "Enable virtualization (libvirt/QEMU)? (y/n) [y]: " enable_virt
enable_virt=${enable_virt:-y}

read -p "Enable Syncthing? (y/n) [y]: " enable_syncthing
enable_syncthing=${enable_syncthing:-y}

# Git configuration
if [ -d "$FLAKE_DIR/.git" ]; then
    print_info "Adding changes to git..."
    cd "$FLAKE_DIR"
    git add -A
    print_success "Changes added to git"
fi

# Final confirmation
echo
echo "═══════════════════════════════════════════════════════════"
echo "Configuration Summary:"
echo "═══════════════════════════════════════════════════════════"
echo "User: $currentUser"
echo "Full Name: $fullName"
echo "Email: $userEmail"
echo "Window Manager: $WM_CONFIG"
echo "Docker: $([[ $enable_docker =~ ^[Yy]$ ]] && echo "Yes" || echo "No")"
echo "Virtualization: $([[ $enable_virt =~ ^[Yy]$ ]] && echo "Yes" || echo "No")"
echo "Syncthing: $([[ $enable_syncthing =~ ^[Yy]$ ]] && echo "Yes" || echo "No")"
echo "═══════════════════════════════════════════════════════════"
echo
read -p "Proceed with installation? (y/n) [y]: " proceed
proceed=${proceed:-y}

if [[ ! $proceed =~ ^[Yy]$ ]]; then
    print_warning "Installation cancelled"
    # Restore backup
    if [ -f "${FLAKE_DIR}/flake.nix.backup" ]; then
        mv "${FLAKE_DIR}/flake.nix.backup" "${FLAKE_DIR}/flake.nix"
    fi
    exit 0
fi

# Build and switch
echo
print_info "Building NixOS configuration..."
print_warning "This may take a while..."
echo

if sudo nixos-rebuild switch --flake "${FLAKE_DIR}#${WM_CONFIG}"; then
    echo
    print_success "═══════════════════════════════════════════════════════════"
    print_success "  Installation completed successfully!"
    print_success "═══════════════════════════════════════════════════════════"
    echo
    print_warning "Important: Please reboot your system to apply all changes"
    echo
    echo "After reboot:"
    echo "  - Your window manager will be: ${WM_CONFIG}"
    echo "  - Your home directory will be: /home/$currentUser"
    echo "  - Config location: ${FLAKE_DIR}"
    echo
    read -p "Reboot now? (y/n) [n]: " reboot_now
    if [[ $reboot_now =~ ^[Yy]$ ]]; then
        print_info "Rebooting..."
        sudo reboot
    else
        print_info "Remember to reboot manually!"
    fi
else
    echo
    print_error "═══════════════════════════════════════════════════════════"
    print_error "  Installation failed!"
    print_error "═══════════════════════════════════════════════════════════"
    echo
    print_info "Restoring backup configuration..."
    if [ -f "${FLAKE_DIR}/flake.nix.backup" ]; then
        mv "${FLAKE_DIR}/flake.nix.backup" "${FLAKE_DIR}/flake.nix"
        print_success "Backup restored"
    fi
    echo
    print_info "Check the error messages above for details"
    print_info "You can try running the installation again"
    exit 1
fi

# Cleanup backup if everything went well
rm -f "${FLAKE_DIR}/flake.nix.backup"
